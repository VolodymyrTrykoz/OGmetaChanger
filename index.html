<!doctype html>
<html>
<head>
    <title>Are you the real StarTrek geek?</title>
    <meta charset="utf-8">
    <meta property="fb:app_id" content="2160146270936955" />
    <meta property="og:url" content="https://volodymyrtrykoz.github.io/OGmetaChanger/" >
    <meta property="og:type" content="article" >
    <meta property="og:title" content="Old title?" >
    <meta property="og:description" content="Old description" >
    <meta property="og:image" content="http://drib.tech/fbsharetest/quiz_landing.jpg" >
    <meta property="og:image:width" content="1200" >
    <meta property="og:image:height" content="630" >
    <link rel="shortcut icon" href="img/favicon.ico?2" type="image/x-icon">
    <script src="jquery-3.3.1/jquery-3.3.1.min.js"></script>
    <script>
        window.fbAsyncInit = function() {
            FB.init({
                appId            : '2160146270936955',
                autoLogAppEvents : true,
                xfbml            : true,
                version          : 'v2.10'
            });
            FB.AppEvents.logPageView();
        };

        (function(d, s, id){
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) {return;}
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_US/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>
</head>
<body>
    <input type="number">
    <button>Change</button>



<script>
    $('button').on('click', submitAndShare);
    function submitAndShare() {
        let inp = $('input').val();
        let title = 'User thinks that next friday rate will be ' + `${inp}`;
        console.log(title);
        let description = 'NEW DESCRIPTION';

        shareOverrideOGMeta(window.location.href, title, description);

        return false;
    }

    function shareOverrideOGMeta(overrideLink, overrideTitle, overrideDescription, overrideImage)
    {
        FB.ui({
                method: 'share_open_graph',
                action_type: 'og.likes',
                action_properties: JSON.stringify({
                    object: {
                        'og:url': overrideLink,
                        'og:title': overrideTitle,
                        'og:description': overrideDescription,
                        'og:image': overrideImage
                    }
                })
            },
            function (response) {
                // Action after response
            });
    }


</script>
</body>
</html>
